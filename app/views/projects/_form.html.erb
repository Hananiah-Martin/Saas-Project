<%# Using model: @project allows Rails to automatically determine if this is a POST or PATCH %>
<%= form_with(model: @project, local: true, class: "project") do |f| %>

  <% if @project.errors.any? %>
    <div class="alert alert-danger shadow-sm mb-4" role="alert">
      <h4 class="alert-heading"><%= pluralize(@project.errors.count, "error") %> stopped this project:</h4>
      <ul class="mb-0">
        <% @project.errors.full_messages.each do |msg| %>
          <li><%= msg %></li>
        <% end %>
      </ul>
    </div>
  <% end %>

  <div class="mb-3">
    <%= f.label :title, class: 'form-label' %>
    <%= f.text_field :title, class: 'form-control', placeholder: "Enter project title" %>
  </div>

  <div class="mb-3">
    <%= f.label :details, class: 'form-label' %>
    <%= f.text_area :details, rows: 3, class: 'form-control', placeholder: "Describe the project..." %>
  </div>

  <div class="mb-3">
    <%= f.label :expected_completion_date, class: 'form-label' %>
    <%# Rails 8 uses native date_field for better mobile support %>
    <%= f.date_field :expected_completion_date, class: 'form-control' %>
  </div>

  <div class="mt-4 border-top pt-3">
    <%= f.submit nil, class: 'btn btn-primary px-4' %>
    <%= link_to "Cancel", root_path, class: 'btn btn-link text-secondary' %>
  </div>

<% end %>