<% content_for :title, "Edit Project | #{@project.title}" %>

<div class="container py-5">
  <div class="row justify-content-center">
    <div class="col-lg-7">
      
      <nav aria-label="breadcrumb" class="mb-4">
        <ol class="breadcrumb">
          <li class="breadcrumb-item"><%= link_to "Dashboard", root_path, class: "text-decoration-none" %></li>
          <li class="breadcrumb-item"><%= link_to "Projects", projects_path, class: "text-decoration-none" %></li>
          <li class="breadcrumb-item"><%= link_to @project.title, project_path(@project), class: "text-decoration-none" %></li>
          <li class="breadcrumb-item active">Settings</li>
        </ol>
      </nav>

      <div class="card border-0 shadow-sm overflow-hidden">
        <div style="height: 4px; background: linear-gradient(90deg, #0d6efd 0%, #6610f2 100%);"></div>
        
        <div class="card-header bg-white py-4 border-bottom">
          <div class="d-flex align-items-center">
            <div class="bg-primary p-3 rounded-3 me-3 text-white">
              <i class="bi bi-gear-fill fs-4"></i>
            </div>
            <div>
              <h1 class="h4 fw-bold mb-0">Project Settings</h1>
              <p class="text-muted small mb-0">Update your project details and completion dates.</p>
            </div>
          </div>
        </div>

        <div class="card-body p-4 p-md-5">
          <%# Using the local variable 'project' to match your render call %>
          <%= render "form", project: @project %>
        </div>

        <div class="card-footer bg-light p-3">
          <div class="d-flex justify-content-between align-items-center">
            <%= link_to project_path(@project), class: "btn btn-link text-decoration-none text-muted" do %>
              <i class="bi bi-eye me-1"></i> View Project
            <% end %>

            <div class="d-flex gap-2">
               <%= link_to "Cancel", projects_path, class: "btn btn-outline-secondary btn-sm" %>
            </div>
          </div>
        </div>
      </div>

      <div class="card border-danger mt-5 bg-danger-subtle bg-opacity-10">
        <div class="card-body d-flex justify-content-between align-items-center p-4">
          <div>
            <h5 class="text-danger fw-bold mb-1">Danger Zone</h5>
            <p class="small text-danger mb-0">Once you delete a project, all its artifacts are gone forever.</p>
          </div>
          <%= button_to @project, method: :delete, 
              class: "btn btn-danger", 
              data: { turbo_confirm: "Are you absolutely sure?" } do %>
            Delete Project
          <% end %>
        </div>
      </div>

    </div>
  </div>
</div>

<style>
  body { background-color: #f8f9fa; }
  .breadcrumb-item + .breadcrumb-item::before { content: "â€º"; }
  .card { border-radius: 12px; }
  .form-label { font-weight: 600; color: #495057; }
</style>